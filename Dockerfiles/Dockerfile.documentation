FROM golang:1.11.5

ENV GO111MODULE on
WORKDIR /go/src/github.com/CMSgov/bcda-app
COPY . .
RUN go mod download
RUN go install github.com/go-swagger/go-swagger/cmd/swagger

WORKDIR /go/src/github.com/CMSgov/bcda-app/bcda
CMD ["swagger", "generate", "spec", "-o", "swaggerui/swagger.json", "-m"]